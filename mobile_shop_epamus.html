<!DOCTYPE html>
<html lang="ko">
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ì£¼ë¬¸ì„œ ì‘ì„± - ìƒë‹¨</title>

  <style>

    /* ========== ê¸°ë³¸ ========== */
    :root { 
      --border:#e9ecef; 
      --text:#16181b; 
      --sub:#6b7280; 
      --accent:#ef4444;
      --bg:#fff; 
    }

    *{box-sizing:border-box} body {
      margin:0;
      background:#f7f8fa;
      color:var(--text);
      font-family:system-ui,-apple-system,'Segoe UI',Roboto,'Noto Sans KR',sans-serif}

    .container{
      max-width:480px;
      margin:0 auto;
      padding:12px 12px 24px
    }

    /* ========== Card ========== */
    .card{
      background:var(--bg);
      border:1px solid var(--border);
      border-radius:12px;
      padding:12px;
      box-shadow:0 1px 2px rgba(0,0,0,.04)
    }

    .section-title{
      font-weight:700;
      font-size:16px;
      margin:6px 0 10px
    }

    /* ========== ëŒ€í‘œìƒí’ˆ ë³´ì—¬ì£¼ê¸°========= */
    .rep-product{
      display:flex;
      gap:12px;
      align-items:center
    }

    .thumb{width:56px;
      height:56px;
      border-radius:8px;
      overflow:hidden;
      flex:0 0 auto;
      background:#eee
    }

    .thumb img{
      width:100%;
      height:100%;
      object-fit:cover
    }

    .item-info{flex:1 1 auto;
      min-width:0
    }

    .sod_opt{
      display:block;
      font-weight:600;
      font-size:15px;
      line-height:1.25;
      margin-bottom:4px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis
    }

    .meta{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      font-size:12px;
      color:var(--sub)
    }
    .td_num::before{
      content:"ìˆ˜ëŸ‰: "
    }
    .td_numbig::before{
      content:"ê°€ê²©: "
    }
  

    /* ========== ì „ì²´ ìƒí’ˆ ë³´ê¸° ë²„íŠ¼ ========== */
    #additional-products{
      width:100%;
      margin-top:10px;
      border:1px solid var(--border);
      background:#fff;
      border-radius:10px;
      padding:10px 12px;
      font-size:14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      cursor:pointer}

    #additional-products .caret{
      transition:.2s transform
    }
    #additional-products[aria-expanded="true"] 

    .caret{
      transform:rotate(180deg)
    }

    /* ========== ì „ì²´ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸========== */
    .list-wrap{
      margin-top:8px;
      display:none
    }
    .product-row{
      display:flex;
      gap:10px;
      align-items:center;
      padding:10px 0;
      border-top:1px dashed var(--border)
    }
    .product-row:first-child{
      border-top:none
    }
    .product-row .thumb{
      width:46px;
      height:46px;
      border-radius:8px
    }
    .product-row .sod_opt{
      font-size:14px;
      margin:0 0 2px
    }
    .product-row .meta{
      font-size:12px
    }

    /* ========== ì´ ì£¼ë¬¸ê¸ˆì•¡ ========== */
    .total-card{
      margin-top:12px
    }

    .total-row{
      display:flex;
      align-items:center;
      justify-content:space-between
      
    }

    .total-row label{
      font-size:14px;
      color:var(--sub)
    }
    .total_amount{
      font-weight:800;
      font-size:18px;
      color:var(--accent)
    }
    
/* ê³µí†µ */
.order-page { 
  --border:#e9ecef; 
  --sub:#6b7280; 
  --accent:#ef4444; 
}

/* ì¹´ë“œ */
.order-page .card-like{
  background:#fff;
  border:1px solid var(--border);
  border-radius:12px;
  margin-top: 12px;
  padding:12px;
  box-shadow:0 1px 2px rgba(0,0,0,.04);
}

/* ì£¼ë¬¸ì ì •ë³´(íƒ€ì´í‹€) */
.order-page .card-like .title{
  font-size:16px; 
  font-weight:700; 
  margin:4px 0 16px;
}

/* ë¼ë²¨/ì¸í’‹ ê³µí†µ */
.order-page .label{
  display:block;
  font-size:14px;
  font-weight:500;
  color:var(--sub);
  margin-bottom:6px;
}
.order-page .input, .order-page .btn{
  width:100%; 
  min-height:42px; 
  font-size:14px; 
  border-radius:10px;
  border:1px solid var(--border); 
  background:#fff; 
  padding:10px 12px;
}

.order-page .btn{
  cursor:pointer;
}
.order-page .btn-primary{
  background:#e11d2e;
  color:#fff;
  border-color:#e11d2e;
}
.order-page .input[disabled]{
  background:#f2f3f5;color:#9aa0a6;
}

.order-page .frm-grid{
  display:grid; 
  gap:10px;
}
.order-page .row-inline{
  display:flex; 
  gap:8px; 
  align-items:center;
}
.order-page .row-inline .input{
  flex:1;
}
.order-page .row-inline .btn{
  flex:0 0 auto; 
  width:auto;
  padding:0 16px;
  min-width:100px; 
}


/* ë°°ì†¡ì§€ íƒ€ì… ì¹´ë“œ ui */
.order-page .addr-types{
  display:flex;
  gap:8px;
  margin-bottom:12px;
}

.order-page .addr-type {
  position:relative;
  flex:1;padding:12px;
  border:1px solid var(--border);
  border-radius:12px;
  background:#fff;
  text-align:center;
  cursor:pointer;
  display:flex;
  flex-direction:column;
  gap:6px;
  align-items:center;
  justify-content:center;
  min-height:82px;
}

.order-page .addr-type input{
  position:absolute;
  inset:0;
  opacity:0;
  cursor:pointer;
}
.order-page .addr-type .title{
  font-weight:700;
  font-size:14px;
  color:#16181b;}

.order-page .addr-type .sub{
  font-size:12px;
  color:var(--sub);
}
.order-page .addr-type:has(input:checked){
  border-color:#e11d2e; 
  box-shadow:0 0 0 2px rgba(225,29,46,.10);
}

.order-page .addr-type {

}

/* ë¼ë””ì˜¤ ë§ˆí¬ */
.order-page .addr-type .radio-mark{
  width:20px; height:20px;
  border:2px solid var(--border);
  border-radius:50%;
  display:inline-block;
}

/* ì„ íƒ ìƒíƒœ í‘œì‹œ */
.order-page .addr-type:has(input:checked) .radio-mark{
  border-color:#e11d2e;
  box-shadow: inset 0 0 0 5px #e11d2e; 
}

/* ì„ íƒ ì‹œ ì¹´ë“œ í•˜ì´ë¼ì´íŠ¸ */
.order-page .addr-type:has(input:checked){
  border-color:#e11d2e;
  box-shadow:0 0 0 2px rgba(225,29,46,.10);
}

.td_total {
  font-weight: 700;
  color: #e11d2e; 
  margin-left: auto;
}


/* ì—¬ê¸°ì„œ ë¶€í„°ëŠ” í¬ë ˆë”§ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¹ */

.credit_section {
  margin-top:12px;
  padding:16px;
  border:1px solid #ddd;
  border-radius:12px;
  background:#fff;
}
.credit_section .title {
  font-weight:700;
  margin-bottom:12px;
  font-size:15px;
}

.credit_item {
  margin-bottom:16px;
}
.credit_header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-size:14px;
  margin-bottom:6px;
}
.credit_balance {
  color:#666;
  margin-left: auto; 
  font-size: 12px; 
}
.credit_input_area input {
  width:100%;
  padding:8px;
  border:1px solid #ddd;
  border-radius:8px;
}
.credit_options {
  font-size:13px;
  display:flex;
  align-items:center;
  gap:4px;
}

.credit_notice {
  font-size:12px;
  color:#666;
  display: flex;
   align-items: center;

  /* ì—¬ê¸°ì„œ ë¶€í„°ëŠ” ê²°ì œ ìš”ì•½ ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¹ */
}

.payment-summary {
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 16px;
  margin-top: 12px;
  background: #fafafa;
}

.summary-title {
  font-size: 16px;
  font-weight: bold;
  margin-bottom: 12px;
  color: #333;
}

.summary-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 6px;
  color: #555;
  font-size: 14px;
}

.summary-final {
  display: flex;
  justify-content: space-between;
  font-weight: bold;
  font-size: 16px;
  margin-top: 12px;
  color: #e11d2e;
}

/* ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ */
.payment-method {
  margin-top: 20px;
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 16px;
  background: #fafafa;
}

.payment-title {
  font-size: 16px;
  font-weight: bold;
  margin-bottom: 12px;
  color: #333;
}

.payment-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

.payment-card {
  display: block;
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 20px;
  text-align: center;
  cursor: pointer;
  background: #fff;
  transition: all 0.2s ease;
}

.payment-card input {
  display: none;
}

.payment-card .card-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  color: #333;
}

.payment-card .icon {
  font-size: 28px;
}

.payment-card:hover {
  border-color: #007bff;
}

.payment-card input:checked + .card-content {
  border: 2px solid #007bff;
  background-color: #f0f8ff; 
}


/* í‘¸í„° ê³ ì •ì‹œí‚¤ê¸° */

.payment-footer {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background: #fff;
  border-top: 1px solid #ddd;
  padding: 12px 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  box-shadow: 0 -2px 6px rgba(0,0,0,0.05);
  z-index: 1000;
}

.footer-summary {
  font-size: 15px;
  font-weight: 600;
  color: #333;
}

.footer-final {
  font-size: 18px;
  font-weight: 700;
  color: #e60000; 
  margin-left: 8px;
}

.btn-pay {
  background: #e60000;
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 12px 20px;
  font-size: 16px;
  font-weight: bold;
  cursor: pointer;
}

.btn-pay:disabled {
  background: #ccc;
  cursor: not-allowed;
}

/*í‘¸í„° ë°˜ì‘í˜• ê³ ë ¤í•˜ê¸°*/
:root{
  --footer-h: clamp(64px, 12vw, 92px);       
  --footer-pad-y: 12px;                   
}

/* í•˜ë‹¨ ê²°ì œ ë°” */
.payment-footer{
  position: fixed;
  left: 0; right: 0; bottom: 0;
  z-index: 1000;
  min-height: var(--footer-h);
  padding: var(--footer-pad-y) 16px calc(var(--footer-pad-y) + env(safe-area-inset-bottom));
  display: flex; align-items: center; justify-content: space-between;
  background: #fff; border-top: 1px solid #e9ecef;
  box-shadow: 0 -2px 6px rgba(0,0,0,.05);
}

body{
  padding-bottom: calc(var(--footer-h) + var(--footer-pad-y) + env(safe-area-inset-bottom));
}

/* ì´ˆì†Œí˜• ë³´ì • */
@media (max-width:360px){
  .order-page .input, .order-page .btn{min-height:40px;font-size:13.5px}
}

  </style>
</head>

<body>
  
  <div class="container">

    <!-- ì£¼ë¬¸ ìƒí’ˆ (ìƒë‹¨ ëŒ€í‘œìƒí’ˆ) -->
    <div class="card">
      <div class="section-title">ì£¼ë¬¸ ìƒí’ˆ</div>

      <!-- ëŒ€í‘œìƒí’ˆ -->
      <div class="rep-product">
        <div class="thumb">
          <img src="resource/êµ¬ë¬¸ë¹„1.png"ëŒ€í‘œìƒí’ˆ ì¸ë„¤ì¼">
        </div>
        <div class="item-info">
          <span class="sod_opt">êµ¬ë¬¸ë¹„ Vol.1</span>
          <div class="meta">
            <span class="td_num">1ê°œ</span>
            <span class="td_numbig">19,000ì›</span>
          </div>
        </div>
      </div>

      <!-- ì „ì²´ ìƒí’ˆ ë³´ê¸° (í† ê¸€ ë²„íŠ¼) -->
      <button id="additional-products" type="button" aria-expanded="false" aria-controls="all-products">
        <span>ì „ì²´ ìƒí’ˆ ë³´ê¸°</span>
        <span class="caret">â–¼</span>
      </button>

      <!-- ì „ì²´ ìƒí’ˆ ë¦¬ìŠ¤íŠ¸(ë“œë¡­ë‹¤ìš´ ì˜ì—­) -->
      <div id="all-products" class="list-wrap" role="region" aria-label="ì£¼ë¬¸í•œ ì „ì²´ ìƒí’ˆ ëª©ë¡">
        <!-- ì•„ì´í…œ 1 -->
        <div class="product-row">
          <div class="thumb">
            <img src="resource/êµ¬ë¬¸ë¹„1.png" alt="êµ¬ë¬¸ë¹„ Vol.1">
          </div>
          <div class="item-info">
            <span class="sod_opt">êµ¬ë¬¸ë¹„ Vol.1</span>
            <div class="meta">
              <span class="td_num">1ê°œ</span>
              <span class="td_numbig">19,000ì›</span>
              <span class="td_total"></span>
            </div>
          </div>
        </div>
        <!-- ì•„ì´í…œ 2 -->
        <div class="product-row">
          <div class="thumb">
            <img src="resource/êµ¬ë¬¸ë¹„2.png" alt="êµ¬ë¬¸ë¹„ Vol.2">
          </div>
          <div class="item-info">
            <span class="sod_opt">êµ¬ë¬¸ë¹„ Vol.2</span>
            <div class="meta">
              <span class="td_num">2ê°œ</span>
              <span class="td_numbig">19,000ì›</span>
              <span class="td_total"></span>
            </div>
          </div>
        </div>
        <!-- ì•„ì´í…œ 3 -->
        <div class="product-row">
          <div class="thumb">
            <img src="resource/êµ¬ë¬¸ë¹„3.png" alt="êµ¬ë¬¸ë¹„ Vol.3">
          </div>
          <div class="item-info">
            <span class="sod_opt">êµ¬ë¬¸ë¹„ Vol.3</span>
            <div class="meta">
              <span class="td_num">1ê°œ</span>
              <span class="td_numbig">19,000ì›</span>
              <span class="td_total"></span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ì´ ì£¼ë¬¸ê¸ˆì•¡ -->
    <div class="card total-card">
      <div class="total-row">
        <label>ì´ ì£¼ë¬¸ê¸ˆì•¡</label>
        <div class="total_amount">0ì›</div>
      </div>
    </div>

<!-- ì£¼ë¬¸ì ì •ë³´ -->
<section id="sod_frm_orderer" class="tbl_frm01 tbl_wrap order-page">
  <div class="card-like">
    <div class="title">ì£¼ë¬¸ì ì •ë³´</div>

    <div class="frm-grid">
      <!-- ì´ë¦„ (í•„ìˆ˜) -->
      <div>
        <label for="orderer_name" class="label">ì´ë¦„ *</label>
        <input id="orderer_name" name="orderer_name" class="input" type="text" required>
      </div>

      <!-- ì „í™”ë²ˆí˜¸ (ì„ íƒ) -->
      <div>
        <label for="orderer_tel" class="label">ì „í™”ë²ˆí˜¸</label>
        <input id="orderer_tel" name="orderer_tel" class="input" type="tel" placeholder="ì˜ˆ) 02-1234-5678">
      </div>

      <!-- í•¸ë“œí° (í•„ìˆ˜) -->
      <div>
        <label for="orderer_hp" class="label">í•¸ë“œí° *</label>
        <input id="orderer_hp" name="orderer_hp" class="input" type="tel" required>
      </div>

      <!-- ì£¼ì†Œ -->
      <div>
        <label class="label">ì£¼ì†Œ *</label>
        <div class="row-inline">
          <input id="orderer_zip" name="orderer_zip" class="input" type="text" placeholder="ìš°í¸ë²ˆí˜¸" required>
          <button type="button" class="btn btn-primary" id="btn-find-zip">ì£¼ì†Œ ê²€ìƒ‰</button>
        </div>
        <input id="orderer_addr1" name="orderer_addr1" class="input" type="text" placeholder="ê¸°ë³¸ì£¼ì†Œ" required style="margin-top:8px;">
        <input id="orderer_addr2" name="orderer_addr2" class="input" type="text" placeholder="ìƒì„¸ì£¼ì†Œ (ì˜ˆ: 14ì¸µ)" style="margin-top:8px;">
      </div>
    </div>
  </div>
</section>

<!-- ë°°ì†¡ì§€ ì •ë³´ -->
<section id="sod_frm_orderer" class="tbl_frm01 tbl_wrap order-page">
  <div class="card-like">
    <div class="title">ë°°ì†¡ì§€ ì •ë³´</div>
<!-- ë°°ì†¡ì§€ ì„ íƒ ë¼ë””ì˜¤ ì¹´ë“œ -->
<div class="addr-types" role="radiogroup" aria-label="ë°°ì†¡ì§€ ì„ íƒ">
  <label class="addr-type">
    <input type="radio" name="shipType" value="same" checked>
    <span class="radio-mark" aria-hidden="true"></span>
    <span class="title">ì£¼ë¬¸ìì™€ ë™ì¼</span>
  </label>

  <label class="addr-type">
    <input type="radio" name="shipType" value="recent">
    <span class="radio-mark" aria-hidden="true"></span>
    <span class="title">ìµœê·¼ ë°°ì†¡ì§€</span>
  </label>

  <label class="addr-type">
    <input type="radio" name="shipType" value="new">
    <span class="radio-mark" aria-hidden="true"></span>
    <span class="title">ìƒˆë¡œ ì…ë ¥</span>
  </label>
</div>
    <div class="frm-grid">
      <!-- ì´ë¦„ (í•„ìˆ˜) -->
      <div>
        <label for="orderer_name" class="label">ì´ë¦„ *</label>
        <input id="orderer_name" name="orderer_name" class="input" type="text" required>
      </div>

      <!-- ì „í™”ë²ˆí˜¸ (ì„ íƒ) -->
      <div>
        <label for="orderer_tel" class="label">ì „í™”ë²ˆí˜¸</label>
        <input id="orderer_tel" name="orderer_tel" class="input" type="tel" placeholder="ì˜ˆ) 02-1234-5678">
      </div>

      <!-- í•¸ë“œí° (í•„ìˆ˜) -->
      <div>
        <label for="orderer_hp" class="label">í•¸ë“œí° *</label>
        <input id="orderer_hp" name="orderer_hp" class="input" type="tel" required>
      </div>

      <!-- ì£¼ì†Œ -->
      <div>
        <label class="label">ì£¼ì†Œ *</label>
        <div class="row-inline">
          <input id="orderer_zip" name="orderer_zip" class="input" type="text" placeholder="ìš°í¸ë²ˆí˜¸" required>
          <button type="button" class="btn btn-primary" id="btn-find-zip">ì£¼ì†Œ ê²€ìƒ‰</button>
        </div>
        <input id="orderer_addr1" name="orderer_addr1" class="input" type="text" placeholder="ê¸°ë³¸ì£¼ì†Œ" required style="margin-top:8px;">
        <input id="orderer_addr2" name="orderer_addr2" class="input" type="text" placeholder="ìƒì„¸ì£¼ì†Œ (ì˜ˆ: 14ì¸µ)" style="margin-top:8px;">
      </div>
    </div>
  </div>
</section>

<!-- ë³´ìœ  í¬ë ˆë”§ ì´ì œì•¼ í¬ë ˆë”§ìš°ì•„ì•„ì•™ê°€ -->
<section class="credit_section">
  <div class="title">ë³´ìœ  í¬ë ˆë”§</div>

  <!-- E-cash -->
  <div class="credit_item">
    <div class="credit_header">
      <span>ğŸ’²E-cash</span>
      <span class="credit_balance">ë³´ìœ ê¸ˆì•¡: 50,000ì›</span>
      <label class="credit_options">
        <input type="checkbox" checked> ì „ì²´ ì‚¬ìš©
      </label>
    </div>
    <div class="credit_input_area">
      <input type="number" value="50000" />
    </div>
      <span class="credit_notice">* ë§ˆì¼€íŒ… ìš©í’ˆ í¬í•¨ì‹œ E-cash ì‚¬ìš©ì´ ë¶ˆê°€í•©ë‹ˆë‹¤.</span>
  </div>

  <!-- í¬ì¸íŠ¸ -->
  <div class="credit_item">
    <div class="credit_header">
      <span>ğŸª™ í¬ì¸íŠ¸</span>
      <span class="credit_balance">ë³´ìœ ê¸ˆì•¡: 30,000ì›</span>
      <label class="credit_options">
        <input type="checkbox" checked> ì „ì²´ ì‚¬ìš©
      </label>
    </div>
    <div class="credit_input_area">
      <input type="number" value="30000" />
    </div>
  </div>
</section>

 <!-- ê²°ì œ ìš”ì•½ -->
 <section class="payment-summary">
  <h3 class="summary-title">ê²°ì œ ìš”ì•½</h3>
  <div class="summary">
    <div class="summary-row">
      <span>ì´ ìƒí’ˆ ê¸ˆì•¡</span>
      <span class="summary_total">0ì›</span>
    </div>
    <div class="summary-row">
      <span>í¬ë ˆë”§ ì‚¬ìš©ê¸ˆ</span>
      <span class="summary_credit">0ì›</span>
    </div>
    <div class="summary-row">
      <span>ë°°ì†¡ë¹„</span>
      <span class="summary_shipping">0ì›</span>
    </div>
    <div class="summary-final">
      <span>ìµœì¢… ê²°ì œ ê¸ˆì•¡</span>
      <span class="summary_final">0ì›</span>
    </div>
  </div>
</section>

 <!-- ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ -->
<section class="payment-method">
  <h3 class="payment-title">ê²°ì œ ìˆ˜ë‹¨</h3>
 <div class="payment-grid">
  <label class="payment-card">
    <input type="radio" name="payment" id="od_settle_bank">
    <div class="card-content">
      <i class="fa-solid fa-building-columns"></i>
      <span>ë¬´í†µì¥ ì…ê¸ˆ</span>
    </div>
  </label>

  <label class="payment-card">
    <input type="radio" name="payment" id="od_settle_iche">
    <div class="card-content">
      <i class="fa-solid fa-landmark"></i>
      <span>ê³„ì¢Œì´ì²´</span>
    </div>
  </label>

  <label class="payment-card">
    <input type="radio" name="payment" id="od_settle_hp">
    <div class="card-content">
      <i class="fa-solid fa-mobile-screen-button"></i>
      <span>íœ´ëŒ€í° ê²°ì œ</span>
    </div>
  </label>

  <label class="payment-card">
    <input type="radio" name="payment" id="od_settle_card">
    <div class="card-content">
      <i class="fa-solid fa-credit-card"></i>
      <span>ì‹ ìš©ì¹´ë“œ</span>
    </div>
  </label>
</div>
</section>


<!-- ê²°ì œ í•˜ë‹¨ ê³ ì •(ê²°ì œí•˜ê¸°, ì´ê²°ì œê¸ˆ) -->
<div class="payment-footer">
  <div class="footer-summary">
    <span>ì´ ê²°ì œê¸ˆì•¡</span>
    <span class="footer-final">0ì›</span>
  </div>
  <button id="btn-pay" type="button" class="btn-pay">ê²°ì œí•˜ê¸°</button>
</div>

  </div>

  <script>
    // ì „ì²´ ìƒí’ˆ ë³´ê¸° í† ê¸€
    const btn = document.getElementById('additional-products');
    const list = document.getElementById('all-products');
    btn.addEventListener('click', () => {
      const expanded = btn.getAttribute('aria-expanded') === 'true';
      btn.setAttribute('aria-expanded', String(!expanded));
      list.style.display = expanded ? 'none' : 'block';

      // ë²„íŠ¼ í…ìŠ¤íŠ¸ í† ê¸€
      btn.querySelector('span').textContent = expanded ? 'ì „ì²´ ìƒí’ˆ ë³´ê¸°' : 'ì ‘ê¸°';
    });

    // (ì„ íƒ) ì´ ì£¼ë¬¸ê¸ˆì•¡ í•©ì‚° = .td_numbigì˜ ìˆ«ìë§Œ ì¶”ì¶œí•´ì„œ í•©ê³„ í‘œê¸°ë˜ê²Œ 
    function parsePrice(txt){ return Number((txt||'').replace(/[^\d]/g,'')||0); }
    function updateTotal(){
      const prices = [...document.querySelectorAll('#all-products .td_numbig')]
        .map(el => parsePrice(el.textContent));
      const total = prices.reduce((a,b)=>a+b,0);
      document.querySelector('.total_amount').textContent =
        total.toLocaleString('ko-KR') + 'ì›';
    }
    updateTotal();



     // ì£¼ë¬¸ì& ë°°ì†¡ì§€ ë™ê¸°í™” 
  const $ = s => document.querySelector(s);
  function setShipFields(data={}, lock=false){
    ['#shipName','#shipMobile','#shipPostcode','#shipAddr1','#shipAddr2'].forEach((sel,i)=>{
      const keys = ['name','mobile','postcode','addr1','addr2'];
      const el = $(sel); if(!el) return;
      el.value = data[keys[i]] || '';
      el.disabled = lock;
    });
  }

  // ì´ˆê¸°ê°’: ì£¼ë¬¸ìì™€ ë™ì¼
  document.querySelector('input[name="shipType"][value="same"]').checked = true;

  // ì£¼ë¬¸ì (íŒ€ì¥ë‹˜  IDëŠ” ì „ë¶€ ìƒ˜í”Œì´ë¼ ìˆ˜ì •í•´ì£¼ì„¸ìš©..)
  const getOrdererData = () => ({
    name:     $('#orderer_name')?.value,
    mobile:   $('#orderer_hp')?.value,
    postcode: $('#orderer_zip')?.value,
    addr1:    $('#orderer_addr1')?.value,
    addr2:    $('#orderer_addr2')?.value
  });

  // ìµœê·¼ ë°°ì†¡ì§€ ì˜ˆì‹œ ë°ì´í„° (ì‚¬ìš©ì íˆìŠ¤í† ë¦¬ë¡œ êµì²´ ë˜ì–´ì•¼í•¨)
  const recentShipping = {
    name: 'ê¹€ì§€ë¯¼', mobile:'010-9876-5432',
    postcode:'06292', addr1:'ì„œìš¸ ê°•ë‚¨êµ¬ ì—­ì‚¼ë¡œ 123', addr2:'301í˜¸'
  };

  // ë¼ë””ì˜¤ ë³€ê²½ ì‹œ ë™ì‘
  document.querySelectorAll('input[name="shipType"]').forEach(r=>{
    r.addEventListener('change', e=>{
      const v = e.target.value;
      if(v==='same'){
        setShipFields(getOrdererData(), true);
      }else if(v==='recent'){
        setShipFields(recentShipping, false);
      }else{
        setShipFields({}, false);
      }
    });
  });

  // í˜ì´ì§€ ë¡œë“œ ì‹œ í•œ ë²ˆ ì ìš©
  setShipFields(getOrdererData(), true);


  // ëª¨ë“  ìƒí’ˆí–‰ í•©ê³„ ê³„ì‚°(ì¶”ê°€í•¨)
   const $$ = (s) => Array.from(document.querySelectorAll(s));
  const num = (t='') => parseInt(String(t).replace(/[^\d]/g,''), 10) || 0;
  const fmt = (n=0) => n.toLocaleString('ko-KR') + 'ì›';

  function updateLineAndGrand() {
    let grand = 0;

    // í–‰ 
    const rows = $$('#all-products .product-row, #all-products .ui-product-row, #all-products .td_row');

    rows.forEach(row => {
      const qtyEl   = row.querySelector('.td_num');
      const priceEl = row.querySelector('.td_numbig');
      if (!qtyEl || !priceEl) return;

      const qty   = num(qtyEl.textContent);       // "ìˆ˜ëŸ‰: 2ê°œ" â†’ 2
      const price = num(priceEl.textContent);     // "19,000ì›" â†’ 19000
      const line  = qty * price;
      grand += line;

      // í•©ê³„ í‘œì‹œ
      let totalEl = row.querySelector('.td_total');
      if (!totalEl) {
        totalEl = document.createElement('span');
        totalEl.className = 'td_total';
     
        (row.querySelector('.meta') || row).appendChild(totalEl);
      }
      totalEl.textContent = fmt(line);
    });

    // ì´ ì£¼ë¬¸ê¸ˆì•¡ ê°±ì‹ 
    const totalBox = document.querySelector('.total_amount');
    if (totalBox) totalBox.textContent = fmt(grand);
  }

  // ìµœì´ˆ ê³„ì‚°
  updateLineAndGrand();
document.querySelectorAll('.credit_item').forEach(item => {
  const balanceEl = item.querySelector('.credit_balance');
  const checkbox = item.querySelector('.credit_options input');
  const input = item.querySelector('.credit_input_area input');

  const balance = parseInt(balanceEl.textContent.replace(/[^\d]/g, ''), 10);

  // ì´ˆê¸° ì„¸íŒ… (ì „ì²´ì‚¬ìš©ì´ë©´ ë³´ìœ ê¸ˆì•¡ ë„£ê¸°)
  if (checkbox.checked) {
    input.value = balance;
    input.readOnly = true;
  }

  // ì²´í¬ë°•ìŠ¤ ì´ë²¤íŠ¸
  checkbox.addEventListener('change', () => {
    if (checkbox.checked) {
      input.value = balance;
      input.readOnly = true;
    } else {
      input.readOnly = false;
    }
  });
});

function updateSummary() {
  // ì´ ìƒí’ˆ ê¸ˆì•¡ (total-card ê°’ ê°€ì ¸ì˜¤ê¸°)
  const totalText = document.querySelector('.total-card').textContent.replace(/[^\d]/g, '');
  const total = parseInt(totalText, 10) || 0;

  // í¬ë ˆë”§ ì‚¬ìš©ê¸ˆ (2ê°œ credit_input_area í•©ê³„)
  const creditInputs = document.querySelectorAll('.credit_input_area');
  let creditUsed = 0;
  creditInputs.forEach(input => {
    const val = parseInt(input.value.replace(/[^\d]/g, ''), 10) || 0;
    creditUsed += val;
  });

  // ë°°ì†¡ë¹„ (10ë§Œì› ì´ìƒ ë¬´ë£Œ)
  let shipping = total >= 100000 ? 0 : 3000;

  // ìµœì¢… ê²°ì œ ê¸ˆì•¡
  const finalAmount = Math.max(total - creditUsed + shipping, 0);

  // DOMì— ë°˜ì˜
  document.querySelector('.summary_total').textContent = total.toLocaleString() + 'ì›';
  document.querySelector('.summary_credit').textContent = creditUsed.toLocaleString() + 'ì›';
  document.querySelector('.summary_shipping').textContent = shipping.toLocaleString() + 'ì›';
  document.querySelector('.summary_final').textContent = finalAmount.toLocaleString() + 'ì›';
}

// ì…ë ¥ê°’ ë³€ê²½ ì‹œ ì¦‰ì‹œ ë°˜ì˜
document.querySelectorAll('.credit_input_area').forEach(input => {
  input.addEventListener('input', updateSummary);
});

updateSummary();

  </script>
</body>
</html>